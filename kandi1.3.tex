% --- Template for thesis / report with tktltiki2 class ---
% 
% last updated 2013/02/15 for tkltiki2 v1.02

\documentclass[finnish]{tktltiki2}

% tktltiki2 automatically loads babel, so you can simply
% give the language parameter (e.g. finnish, swedish, english, british) as
% a parameter for the class: \documentclass[finnish]{tktltiki2}.
% The information on title and abstract is generated automatically depending on
% the language, see below if you need to change any of these manually.
% 
% Class options:
% - grading                 -- Print labels for grading information on the front page.
% - disablelastpagecounter  -- Disables the automatic generation of page number information
%                              in the abstract. See also \numberofpagesinformation{} command below.
%
% The class also respects the following options of article class:
%   10pt, 11pt, 12pt, final, draft, oneside, twoside,
%   openright, openany, onecolumn, twocolumn, leqno, fleqn
%
% The default font size is 11pt. The paper size used is A4, other sizes are not supported.
%
% rubber: module pdftex

% --- General packages ---

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{microtype}
\usepackage{amsfonts,amsmath,amssymb,amsthm,booktabs,color,enumitem,graphicx}
\usepackage[pdftex,hidelinks]{hyperref}
\usepackage{array,graphicx}
\usepackage{pifont}
\usepackage{adjustbox}
\usepackage{booktabs}
\usepackage{tabularx}
\usepackage[usenames,dvipsnames,svgnames,table]{xcolor}
\usepackage{multirow}
\usepackage{floatrow}
\usepackage{color}
\usepackage{float}
\newcommand*\OK{\ding{51}}

\newcolumntype{R}[2]{%
    >{\adjustbox{angle=#1,lap=\width-(#2)}\bgroup}%
    l%
    <{\egroup}%
}
\newcommand*\rot{\multicolumn{1}{R{40}{1em}}}% no optional argument here, please!

% Automatically set the PDF metadata fields
\makeatletter
\AtBeginDocument{\hypersetup{pdftitle = {\@title}, pdfauthor = {\@author}}}
\makeatother

% --- Language-related settings ---
%
% these should be modified according to your language

% babelbib for non-english bibliography using bibtex
\usepackage[fixlanguage]{babelbib}
\selectbiblanguage{finnish}

% add bibliography to the table of contents
\usepackage[nottoc]{tocbibind}
% tocbibind renames the bibliography, use the following to change it back
\settocbibname{Lähteet}

% --- Theorem environment definitions ---

\newtheorem{lau}{Lause}
\newtheorem{lem}[lau]{Lemma}
\newtheorem{kor}[lau]{Korollaari}

\theoremstyle{definition}
\newtheorem{maar}[lau]{Määritelmä}
\newtheorem{ong}{Ongelma}
\newtheorem{alg}[lau]{Algoritmi}
\newtheorem{esim}[lau]{Esimerkki}

\theoremstyle{remark}
\newtheorem*{huom}{Huomautus}


% --- tktltiki2 options ---
%
% The following commands define the information used to generate title and
% abstract pages. The following entries should be always specified:

\title{Älykellon sensoridataan perustuva QWERTY-näppäimistön käytön päättely}
\author{Laura Paajanen}
\date{\today}
\level{kandidaatintutkielma}
\abstract{Älykellojen yleistyessä ja niiden erilaisten sensoreiden kehittyessä kellosta saattaa muodostua käyttäjän QWERTY-näppäimistön käytön päättelyyn käytettävä väline. Kellon liikesensoreiden tallentamasta sensoridatasta voidaan päätellä kirjoittajan ranteen liikkeet näppäimistöllä kirjoitettaessa, jolloin oikeanlaisella opetus- tai vertailudatalla näppäimistön käyttöä on mahdollista palauttaa sekä neuroverkkoihin että Bayes-mallinnukseen perustuvilla datan analysointimenetelmillä. Tarkastelun kohteena on, millä tavoin älykellojen sensoridatan avulla on mahdollista selvittää käyttäjän QWERTY-näppäimistön käyttöä, sekä millaisia uusia mahdollisuuksia älykellojen käyttö näppäimistön käytön päättelylle tarjoaa. Käytön päättelyä älykellon sensoridatan perusteella tutkittaessa on saatu onnistuneita tuloksia, vaikkakin todellisissa hyökkäystilanteissa muun muassa hyökkäyksen kohteiden erilaiset kirjoitustottumukset asettavat haasteita päättelyn onnistumiselle.}

% The following can be used to specify keywords and classification of the paper:

\keywords{tietoturva, älykello, näppäimistön käytön päättely, neuroverkot, Bayes-mallinnus}

% classification according to ACM Computing Classification System (http://www.acm.org/about/class/)
% This is probably mostly relevant for computer scientists
% uncomment the following; contents of \classification will be printed under the abstract with a title
% "ACM Computing Classification System (CCS):"
 \classification{\textbf{Security and privacy} - \textit{Systems security} - Information flow control}

% If the automatic page number counting is not working as desired in your case,
% uncomment the following to manually set the number of pages displayed in the abstract page:
%
% \numberofpagesinformation{16 sivua + 10 sivua liitteissä}
%
% If you are not a computer scientist, you will want to uncomment the following by hand and specify
% your department, faculty and subject by hand:
%
% \faculty{Matemaattis-luonnontieteellinen}
% \department{Tietojenkäsittelytieteen laitos}
% \subject{Tietojenkäsittelytiede}
%
% If you are not from the University of Helsinki, then you will most likely want to set these also:
%
% \university{Helsingin Yliopisto}
% \universitylong{HELSINGIN YLIOPISTO --- HELSINGFORS UNIVERSITET --- UNIVERSITY OF HELSINKI} % displayed on the top of the abstract page
% \city{Helsinki}
%


\begin{document}

% --- Front matter ---

\frontmatter      % roman page numbering for front matter

\maketitle        % title page
\makeabstract     % abstract page

\tableofcontents  % table of contents

% --- Main matter ---

\mainmatter       % clear page, start arabic page numbering

\section{Johdanto}

Älykellot ja muut ranteessa käytettävät älylaitteet sisältävät lähes aina erilaisia liikkeitä havainnoivia sensoreita. Näiden sensoreiden dataa käytetään esimerkiksi laitteen hallintaan ja käyttäjän aktiivisuuden mittaamiseen, mutta sensoreiden tuottamaa dataa on mahdollista käyttää myös väärin esimerkiksi käyttäjän käsien liikkeiden perusteella tehtävään näppäimistön käytön päättelyyn. 

International Data Corporation on arvioinut älykellojen myynnin kasvavan vuoteen 2021 mennessä jopa 70 miljoonaan kappaleeseen vuodessa kaikkien älyasusteiden arvioidun myyntimäärän ollessa lähes 200 miljoonaa~\cite{bi}. Älypuhelimissa, joissa mahdollisiin sivukanavahyökkäyksiin on jo osattu varautua, yksittäisen käyttäjän aktiivinen käyttöaika jäi vuonna 2013 keskimäärin 58 minuuttiin vuorokaudessa~\cite{john}. Vaikka puhelimien käyttöaika onkin varmasti viime vuosina kasvanut,  on älykellojen aktiivinen käyttöaika tästä huolimatta suurempi laitteen ollessa ranteessa ja toiminnassa jatkuvasti, jopa vuorokauden ympäri. Tällöin hyökkäykseen tarvittavaa dataa on mahdollista saada käyttäjältä paljon. 

Älykellojen ja niiden liikesensorien tuottaman datan turvallisuutta on viime aikoina herätty tutkimaan enemmän, ja mahdollisia menetelmiä joilla tunnistaa sensoridatan perusteella QWERTY-näppäimistöllä näppäiltyä tekstiä on löydetty useita. Näiden tutkimusten perusteella mahdolliselle hyökkääjälle riittää päästä käsiksi älykellon lähettämään sensoridataan, jonka avulla on mahdollista palauttaa korkealla onnistumisprosentilla käyttäjän kirjoittama teksti.

Tutkielmassa perehdytään siihen, mitä uusia mahdollisuuksia älykellojen liikesensoridata tarjoaa QWERTY-näppäimistön käytön päättelyyn, sekä millä menetelmillä liikesensoridatasta on mahdollista päätellä käyttäjän näppäimistön käyttöä. Asiaan perehdytään kolmen toisistaan toteutustapojen osalta poikkeavan älykellon liikesensoridataan perustuvan tutkimuksen kautta, joissa sensoridatan avulla on pyritty palauttamaan käyttäjien näppäimistön käyttöä neuroverkkojen sekä todennäköisyysmallinnuksen avulla.

Luvussa 2 käsitellään yleisesti QWERTY-näppäimistön käytön päättelytapojen lähtökohtia, sekä tarkastellaan aiemmin käytettyjen menetelmien heikkouksia älykellon tarjoamien, käytön päättelyä helpottavien tekijöiden näkökulmasta. Lisäksi luvussa määritellään tutkimuskysymykset. Luvussa 3 esitellään kerätyn ääni- ja liikesensoridatan mahdollisia analysointimenetelmiä. Luvussa 4 syvennytään aiempiin QWERTY-näppäimistön käytön päättelyyn tähtääviin menetelmiin, joissa hyökkäykseen on käytetty mikrofonien sekä älypuhelimen liikesensorien tuottamaa dataa. Älykellon käyttämistä hyökkäyskanavana käsitellään luvussa 5, jossa tarkastellaan kolmen eri tavoin toteutetun tutkimuksen tuloksia käytön päättelyn menetelmistä älykellon liikesensoridatan perusteella. Tuloksien lisäksi perehdytään tutkimusmenetelmiin, tehokkuuteen sekä  mahdollisiin heikkouksiin ja vahvuuksiin aiempiin menetelmiin verrattuna. Luvussa 6 kootaan tehdyt havainnot sekä pyritään niiden avulla vastaamaan esitettyihin tutkimuskysymyksiin, esitellään mahdollinen suojautumismenetelmä älykellojen avulla tehtävää näppäimistön käytön päättelyä vastaan sekä pohditaan sen käyttöönoton mahdollisuuksia. 


\section{Näppäimistön käytön päättely}
Näppäimistön käytön päättelyllä tarkoitetaan tilannetta, jossa ulkopuolisella henkilöllä on mahdollisuus saada tietoonsa hyökkäyksen kohteen näppäimistön painallukset.
Käyttäjän näppäimistön käytön selvittäminen on erittäin vahingollista tiedon päätyessä hyökkääjän käsiin, sillä hyökkääjällä on tällöin pääsy esimerkiksi kaikkiin kirjoitettuihin sähköposteihin, käyttäjätunnuksiin ja salasanoihin. Tietokoneelle päätyvien näppäimistön käyttöä suoraan lukevien vakoiluohjelmien lisäksi näppäimistön käyttöä on mahdollista selvittää menestyksellisesti myös akustisten vuotojen~\cite{berger}~\cite{zhu}~\cite{aso}, videon ja heijastuvien kuvien~\cite{balz}, näppäimistön alla olevan pöydän värähtelyn~\cite{mar} sekä jopa wifi-signaalin muutosten avulla~\cite{ali}.

Monissa edellä mainituissa menetelmissä ongelmallista on ulkoisen datankerääjän, esimerkiksi mikrofonin, älypuhelimen tai kameran, sijainnin vaikutus kerättyyn dataan sekä mahdolliset kerääjään kohdistuvat häiriötekijät kerätyssä datassa~\cite{berger}. Puhelimen mikrofonin tai liikesensoreiden keräämään dataan vaikuttaa muun muassa puhelimen vaihtaminen näppäimistön oikealta puolelta vasemmalle puolelle~\cite{mar}. Äänidataan perustuva näppäimistön käytön päättely edellyttää muutoin kohtalaisen hiljaista käyttöympäristöä, jotta ympäröivät äänet eivät häiritsisi saatua äänidataa, ja kuvaan perustuvissa menetelmissä kameran tulee olla suunnattuna näppäimistöön tai sitä heijastaviin pintoihin, eikä edessä saa olla näköesteitä. Näitä häiriötekijöitä on saatu onnistuneesti vähennettyä käyttämällä datan keräämiseen älykelloa~\cite{liu}~\cite{maiti}~\cite{mole}. Aiempiin menetelmiin verrattuna älykellon käytössä datan keräämiseen on hyvänä puolena se, että kelloa käytetään lähtökohtaisesti samassa ranteessa, jolloin se on lähellä ja jatkuvasti lähes samalla etäisyydellä näppäimistöstä. Näin dataa kerättäessä virheellisiä tuloksia saadaan vähennettyä poistamalla sijainninvaihtelun aiheuttamat muutokset. 

Tutkimuskysymyksiksi on valikoitunut millä tavoin älykellojen sensoridatan avulla on mahdollista selvittää käyttäjän QWERTY-näppäimistön käyttöä, sekä millaisia uusia mahdollisuuksia älykellojen käyttö näppäimistön käytön päättelylle tarjoaa. Älykellojen liikesensoridataa näppäimistön käytön päättelyyn käyttäviä tutkimuksia arvioidaan niiden tulosten sekä todellisiin hyökkäystilanteisiin kohdistuvien rajoitusten kautta. Aiemmista tutkimuksista käsitellään näppäimistön äänen tallentamista sekä puhelimen liikesensoridataa hyödyntäneitä näppäimistön käytön päättelymenetelmiä. Sekä äänidatan että liikesensoreiden tuottaman datan analysointitavat ovat samankaltaisia, ja useissa tutkimuksissa tutkimusasetelmat vastaavat hyvin toisiaan. Aiemmissa tutkimuksissa käytettyjen datan analysointimenetelmien implementoinnin toimivuutta tarkastellaan liikesensoridatan analysoinnin kannalta, ja tutkimusasetelmien samankaltaisuuksia ja eroavaisuuksia pyritään hahmottamaan arvioimalla tuloksia sekä menetelmissä havaittuja heikkouksia.


\section{Datan analysointimenetelmiä}
Sekä ääni- että liikesensoridatan analysoinnissa saadusta datasta pyritään ensin päättelemään juuri näppäinten painalluksen aiheuttamat muutokset datassa. Äänidatasta pystytään erottamaan sekä näppäimen painalluksesta että sen vapauttamisesta aiheutuva ääni. Tutkimuksissa yksittäisen painalluksen pituudeksi on määritelty 100ms~\cite{berger}, ja tutkimusdatassa tapahtuneita muutoksia tutkitaan kyseisen ajanjakson sisällä. Liikesensoridatasta näppäimistön painallukset erotetaan $z$-akselilla tapahtuvien muutosten avulla, jolloin tällä akselilla tapahtuneen näppäilypiikin perusteella tutkimuksen kohteena on käden sijainti $x$- ja $y$-akseleilla painalluksen tapahtuessa. Kun sensoridatasta on saatu eroteltua näppäimien painalluskohdat, voidaan älykellon dataa tutkia esimerkiksi neuroverkkojen~\cite{maiti}~\cite{liu} ja Bayes-mallinnuksen~\cite{mole} avulla.

\subsection{Neuroverkot}
Näppäimistön käytön päättelyyn tähtäävässä sensoridatan analysoinnissa on mahdollista käyttää esimerkiksi neuroverkkoja. Neuroverkkojen toiminta perustuu yksittäisiin laskentayksiköihin, neuroneihin, jotka ovat yhteydessä toisiinsa~\cite{ert}. Jokainen neuroni tekee oman laskentavaiheensa, ja neuroverkon rakenteesta riippuen antaa tuloksensa syötteenä eteenpäin joko yhdelle tai useammalle neuronille. Neuronit saavat syötteenään arvoja $x_1,..., x_n$, ja neuroneiden arvoille ja niiden kaarien $w_1,...,w_n$ painoille lasketaan pistetulo, joiden summan ja valitun aktivaatiofunäiktion $f$ perusteella kyseinen neuroni tuottaa oman tulosteensa $$f(\sum_{j=1}^{n} w_{ij}x_j).$$
Painokertoimien asettamiseksi oikein voidaan käyttää niin kutsuttua opetusdataa. Neuroverkon ohjatussa opetuksessa neuroverkolle annetaan ensin käsiteltäväksi valmiiksi luokiteltuja syötteitä, joiden haluttu tulos tiedetään. Neuroverkon painokertoimia muokataan syötteen avulla siten, että lopulta saadut tulosteet vastaavat odotettuja. Tämän jälkeen neuroverkolle voidaan antaa syötteenä tutkimusdataa, jonka luokittelu tapahtuu muokattujen painokertoimien avulla. Ohjaamattomassa neuroverkon opetuksessa neuroverkko saa opetussyötteenään dataa, josta se klusteroi samankaltaisimmat näytteet omiin luokkiinsa. Tällöin valmiita luokkia ei anneta suoraan, vaan luokat voidaan päätellä muodostettujen klustereiden avulla.

Yksinkertainen esimerkki neuroverkkoluokittimesta on perseptronialgoritmi, jolla opetussyötteen perusteella annettu syöte on jaettavissa kahteen eri luokkaan~\cite{ert}. Luokittelu edellyttää että annettu opetusdata on lineaarisesti eroteltavissa. Muussa tapauksessa luokittelu määritetään loppumaan tietyn opetusaskelmäärän jälkeen.


\subsection{Bayes-mallinnus}
Sensoridatan analysoinnissa voidaan käyttää myös Bayes-mallinnusta, joka perustuu ehdolliseen eli posterioritodennäköisyyteen $ P(W \mid O)$. Bayesin kaavalla $$ P(W \mid O) = \frac{P(O \mid W) \, P(W)}{P(O)} $$ saadaan laskettua ehdollinen todennäköisyys tapahtumalle $ P(W \mid O)$ eli tapahtuman $W$ todennäköisyys ehdolla $O$ on tapahtunut~\cite{bar}.

Tutkimuksessa~\cite{mole}, jossa näppäimistön käytön päättelyyn on käytetty Bayes-mallinnusta, pyrittiin laskemaan posterioritodennäköisyys jokaiselle englanninkielisessä sanakirjassa esiintyvälle sanalle ehtona tapahtuneet liikesensoridatasta pääteltyjen kirjainten painallukset. Bayesin kaavan toimivuutta lisättiin huomioimalla mahdolliset kahden lähekkäisen merkin painallukset, joita sensoridatasta on vaikea havaita. Myös edellisen näppäillyn merkin sijainnin vaikutus ja kirjoitusnopeus huomioitiin tarkentamalla todennäköisyyden laskentakaavaa toimivammaksi. Todennäköisyyksien laskennan jälkeen algoritmi palautti sanakirjassa esiintyvät sanat ja niiden ehdolliset todennäköisyydet listana pareja <sana, todennäköisyys>.


\section{Näppäimistön käytön päättely ääni- ja liikesensoridatan perusteella}
Mikrofonilla tallennettua äänidataa on tutkimuksissa onnistuttu analysoimaan tehokkaasti, ja näppäimistön näppäimien painallusten yksilöllisistä äänistä on pystytty päättelemään käyttäjän kirjoittamaa tekstiä. Näissä näppäimistön lähelle on asetettu mikrofoni, jolla äänitetystä datasta on eroteltu kirjainten painallus- ja vapautusääni. Saatua äänidataa voidaan analysoida yksittäisten kirjainten, kirjainparien sekä ennalta määritettyjen sanakirjojen avulla. 
Liikesensoreiden avulla näppäimistön käyttöä on kyetty päättelemään esimerkiksi näppäimistön viereen asetetun puhelimen liikesensoridatan perusteella. Tällöin näppäilyn aiheuttama värähtely pöydän pinnassa on eroteltu merkeittäin, ja painallukset on jaoteltu näppäinten etäisyyden perusteella kirjainpareihin.

\subsection{Käytön päättely kerätyn äänidatan perusteella}
Äänidataan ja yksittäisten kirjainten sijaintiin perustuvassa tutkimuksessa~\cite{berger} huomattiin, että sen lisäksi, että jokaisen näppäimen ääni on yksilöllinen, ääni myös korreloi näppäimen sijainnin kanssa. Näppäinten äänien samanlaisuus on suurinta muiden lähimpänä sijaitsevien näppäinten kanssa, ja pienimmät samanlaisuudet ääninäytteissä ovat toisistaan kauimpien näppäinten välillä. Näin jokaiselle kirjaimelle voidaan muodostaa taulukko, jossa määritellään kirjaimen vierusnäppäimet sekä muut, kauempana sijaitsevat näppäimet. Tutkimuksessa äänidatasta eroteltujen painallusäänien samankaltaisuutta tutkitaan signaalinkäsittelymenetelmillä, joilla tulokseksi saadaan yksittäisiä $n$ pituisia sanoja, joiden kirjainten sijaintien korrelaatiot tiedetään. Tutkimuksessa käytetään yleisimmistä englanninkielisistä sanoista koostuvaa corncob-sanalistaa~\cite{corn}. Äänidatasta erotellun sanan kirjainten sijaintikorrelaatiota verrataan kaikkien sanakirjassa esiintyvien $n$ pituisten sanojen kirjainten kanssa, jolloin tulokseksi saadaan lista äänidataprofiliin parhaiten täsmäävistä sanakirjasanoista. 

Edellä käsitellyssä tutkimuksessa käytön päättely perustuu kirjainten ääniin ja erityisesti sijaintiin suhteessa toisiinsa, minkä vuoksi erillistä opetusdataa ei käytön päättelyä varten tarvita. Neuroverkkoja äänidatan analysoinnin apuna käyttävissä tutkimuksissa opetusdatana on käytetty hyökkääjän näppäimistön käyttöä~\cite{aso} sekä englanninkielisten sanojen ja kieliopin asettamia rajoituksia mahdollisten kirjainyhdisteiden ja sanojen rajaamiseksi~\cite{zhu}. Kuvitellun hyökkääjän syöttämään neuroverkon opetusdataan perustuvassa tutkimuksessa~\cite{aso} opetusdatana käytetään yksittäisten kirjainten toistuvia painalluksia. Jokaista tutkittua kirjainta painetaan sata kertaa, ja saatu äänidata annetaan neuroverkolle opetusdatana. Neuroverkon luokitin luokittelee tutkittavista kirjaimista oikein keskimäärin 19/20, mutta siirryttäessä tilanteeseen, jossa neuroverkon tulee tunnistaa hyökkääjän kirjoitustyylistä poikkeavien henkilöiden näppäimistön käyttöä, luokittelun onnistumisprosentti laskee. Huomattava onnistumisprosentin lasku aiheutuu myös käytettäessä samaa opetettua neuroverkkoa muiden kuin neuroverkon opetusdatan keräämiseen käytetyn näppäimistön kanssa.
Käyttämällä äänidatan analysoinnissa neuroverkon lisäksi puheentunnistuksesta tuttuja sana- ja lauserakenteita~\cite{zhu} saadaan eri näppäimistöjen käytöstä aiheutuvia ongelmia vähennettyä. Tutkimuksessa datan analysoinnissa käytössä on neuroverkko, jonka oppiminen on ohjaamatonta. Neuroverkko klusteroi datan, ja näppäiltyjen kirjainten päättelyyn käytetään kirjainklustereiden lisäksi esimerkiksi tietoa englannin kielessä todennäköisimmin esiintyvistä perättäisistä kirjaimista.

\subsection{Käytön päättely puhelimen liikesensorin avulla}
Käyttäjän QWERTY-näppäimistön käyttöä pääteltäessä ulkoisen ja erillisen datankerääjän, edellä käsitellyissä tapauksissa mikrofonin, käyttö asettaa rajoituksia hyökkäyksen toteuttamiselle. Näppäimistön käytön päättelyyn on kuitenkin mahdollista käyttää myös älypuhelinta~\cite{mar}. Tietokonetta käytettäessä asetetaan puhelin usein pöydälle näppäimistön lähistölle, jotta puhelin olisi mahdollisimman helposti saatavilla. Tällöin mahdollinen kanava hyökkäyksen toteuttamiselle tarjoutuu käyttäjän toimesta, eikä erillistä datankeräyslaitteistoa tarvita. Puhelimien mikrofonit eivät ole yhtä tehokkaita kuin näppäimistön käytön päättelyyn käytetyt erilliset mikrofonit, mutta näppäimistön käyttö voidaan havaita myös näppäimistön vieressä pöydällä olevan älypuhelimen kiihtyvyyssensorin avulla. Puhelimien kehittyessä myös niiden sensorit ovat entistä parempia. 

Tutkimuksessa~\cite{mar} oletetaan, että käyttäjä on ladannut puhelimeensa haittaohjelman, jolla on pääsy puhelimen kiihtyvyyssensoridataan. Näppäimistön käytön ja erityisesti yksittäisten näppäinten painalluksen erottaminen sensoridatasta on mahdollista myös puhelimen tarjoaman datan avulla. Kuitenkin aiemman analysointimenetelmän, jossa äänidatasta eroteltiin yksittäisten näppäinten painallukset~\cite{aso}, käyttäminen liikesensoridatan analysointiin epäonnistui puhelimen sensoridatan huomattavasti alemman näytteenottotaajuuden vuoksi. 

Tutkimuksessa~\cite{mar} sensoridatan analysoinnissa käytetäänkin yksittäisille kirjaimille määriteltyjä liikevektoreita, joista muodostetaan mahdollisia kirjainparivektoreita. Näppäimistön näppäimet jaetaan osiin jaon oikea - vasen sekä lähellä - kaukana mukaisesti. Tutkimuksessa käytetään kahta erillistä neuroverkkoa. Ensimmäisen neuroverkon opetusvaihetta varten kutakin näppäintä painetaan 150 kertaa, ja sensorin havainnoista muodostetut yksittäisten kirjainten vektorit $P_i$ luokitellaan vasemman- ja oikeanpuoleisiin kirjaimiin. Toisen neuroverkon opetusdataa varten kirjainpareille muodostetaan yksittäisten kirjainten vektoreiden avulla kirjainparivektorit $dist(P_i,P_j)$, jotka luokitellaan $P_i$:n ja $P_j$:n sekä määritellyn kynnysetäisyyden mukaan joko luokkaan lähellä tai kaukana. Tulosten vertailu erillisellä mikrofonilla äänitetyn datan analysointituloksiin osoittaa, että corncob-sanakirjan~\cite{corn} satunnaisten sanojen palauttaminen puhelimen liikesensoridatan avulla onnistuu lähes samalla todennäköisyydellä kuin äänidatasta pääteltyjen kirjainten ja niiden välisten sijaintirelaatioiden~\cite{berger} avulla. Tulosten perusteella näppäimistön käytön päättely onnistuu myös todellista hyökkäystä jäljentävissä tilanteissa, joissa kirjoitetut sanat eivät ole yksittäisiä. Tutkimuksessa kuvitellut hyökkäyksen kohteet kirjoittivat lauseita artikkelista, kun viiden muun samaa aihetta käsitelleen artikkelin sanat oli annettu opetusdatana käytetyille neuroverkoille. Kontekstin rajaaminen vähentää samankaltaisten vektoriprofiilien esiintymistä verrattuna laajaan, noin 58 000 sanan corncob-sanakirjaan, jolloin virheellisten tulosten määrää saadaan laskettua.
 

\section{Näppäimistön käytön päättely älykellon sensoridatan perusteella}
Toisin kuin älypuhelimissa, älykelloissa sensorien datan kerääminen ja käyttö ei ole suojattua, eikä sensorien käytöstä näy käyttäjälle ilmoituskuvaketta~\cite{liu}. Näin ollen sensoridataa voidaan tallentaa ilman erityistä ilmoitusta ja lupaa käyttäjältä esimerkiksi juuri näppäimistöä käytettäessä.
Älykelloissa käyttäjän liikkeiden päättelyyn käytetään sekä kiihtyvyyssensoria että maan vetovoimaan perustuvaa gyroskooppia. Liikkeiden lisäksi näppäimistön käytön päättelyyn käytetään yleensä myös kellon mikrofonin äänidataa, jolla saadusta liikesensoridatasta saadaan erotettua näppäimistön käyttöön liittyvät käden liikkeet muista liikkeistä. Taulukossa~\ref{t:1} esiteltävissä tutkimuksissa kerättyä dataa ja näppäimistön käyttöä analysoitiin kahdessa tutkimuksessa neuroverkkojen avulla~\cite{maiti}~\cite{liu}, ja yhdessä todennäköisyyslaskennan avulla~\cite{mole}.

\begin{table} [h]
    \begin{tabular}{ | p{10mm} | p{25mm} | p{2mm} | p{2mm} | p{20mm} | p{10mm} | p{25mm} | }
        \rot{\underline{tutkimus}} & \rot{\underline{näppäimistönjako}} & \rot{\underline{liikesensorit}} & \rot{\underline{mikrofoni}} & \rot{\underline{analysointimenetelmä}} & \rot{\underline{sanakirja}} & \rot{\underline{kellomalli}} \\
        \midrule
         ~\cite{maiti} & Näppäimistön ilmansuuntien mukainen jako & \OK & \OK & neuroverkko & suppea & Samsung Gear Live \\
        \midrule
         ~\cite{liu} & Näppäimistön riveihin jako & \OK & \OK & neuroverkko & suppea  & LG G WATCH\\
        \midrule
         ~\cite{mole} & Yksittäisten näppäinten sijainti & \OK & -  &  Bayes-mallinnus  & koko sanakirja & Samsung Gear Live \\
        \bottomrule
    \end{tabular}
    \caption{Älykellon liikesensoridataa hyödyntävien tutkimusten koonti}\label{t:1}
\end{table}

\subsection{Tutkimusasetelmat}
Käyttäjän QWERTY-näppäimistön käytön palauttamisen tehokkuutta on tutkittu kerätyn liikesensori- ja äänidatan perusteella~\cite{maiti}~\cite{liu}~\cite{mole}. Tutkimuksissa käytetään kahta eri älykellomallia, joissa kiihtyvyys- ja gyroskooppisensoreiden avulla liikettä mitataan $x$-, $y$- ja $z$-akseleiden muutoksina. Kaikissa tutkimuksissa on oletettu, että käyttäjä käyttää kelloaan vasemman käden ranteessa. Tutkimukseen osallistuvien henkilöiden oletettiin joko kirjoittavan ennalta määritetyn standardin kirjoitustavan mukaisesti~\cite{maiti}~\cite{liu} tai aloittaessaan kirjoittamaan pitävän käsiään tutkimuksessa määritetyssä aloitussijainnissa~\cite{mole}. 

Molempien tutkimuksissa käytettyjen kellomallien näytteenottotaajus on lähes samalla tasolla, jolloin taajuudesta johtuvat eroavaisuudet datan analysointituloksissa eivät ole merkitseviä. Molemmissa neuroverkkoja hyödyntävissä tutkimuksessa~\cite{maiti}~\cite{liu} käytössä on rajoitetulle määrälle englannin kielisiä sanoja ennalta määritellyt liikeprofiilit, joihin kiihtyvyyssensorin tuloksia verrattiin. Näppäimistön jakoa ilmansuuntien mukaan käyttävään tutkimukseen~\cite{maiti} osallistuneet henkilöt kirjoittivat saman 40 sanan osuuden lehtiartikkelista, kun liikemallisanakirjaan oli määritelty liikeprofiilit kuuden muun samaa aihetta käsitelleen artikkelin sanoista niiden esiintymisjärjestyksessä.
Näppäimistön rivejä hyödyntävässä tutkimuksessa~\cite{liu} testitapauksia oli kaksi. Ensimmäisessä tapauksessa pyrittiin viiden osallistujan kohdalla toistamaan aiemmassa tutkimuksessa toteutettu koe~\cite{berger}, jossa näppäimistön käyttöä oli pyritty päättelemään mikrofonin keräämän äänidatan perusteella. Näissä käytössä oli corncob-sanakirja, ja tarkoituksena palauttaa 35 testisanaa joiden pituudet vaihtelivat seitsemän ja 13 merkin välillä. 
Saman tutkimuksen~\cite{liu} toisessa testitapauksessa vapaaehtoinen käyttäjää asensi kelloonsa haittaohjelman ja kirjoitti 20 satunnaisesti valittua lausetta ennalta määritetystä BBC:n uutisesta. Verrattavaan sanakirjaan oli määritelty mahdolliset liikemallit samaa aihepiiriä koskeville sanoille. Kuten aiemmassa älypuhelimen liikesensoridataan perustuvassa tutkimuksessa~\cite{mar}, tässäkin käytettiin vertailusanakirjana saman toimittajan muita samaa aihealuetta koskevia kirjoituksia. 

Liikesensorien tuottaman datan analysointiin posterioritodennäköisyyslaskentaa käyttävässä tutkimuksessa~\cite{mole} tutkimukseen osallistuneet koehenkilöt kirjoittivat QWERTY-näppäimistöllä yhteensä 2400 yksittäistä sanaa. Vertailudatana käytettiin kuvitellun hyökkääjän syöttämää 500 sanan yksittäisten kirjainten painalluksia.


\subsection{Liikesensoridatan analysointi}
Koska yksittäisten kirjainten painamisen selvittäminen pelkän kiihtyvyyssensorin perusteella on vaikeaa, käytettiin molemmissa neuroverkkoja käyttävissä tutkimuksissa~\cite{maiti}~\cite{liu} kirjoitettujen sanojen määrittämiseen kirjainnäppäinten fyysisen sijainnin ja liikkeen suunnan lisäksi älykellon mikrofonia. Äänidatan perusteella on mahdollista määrittää esimerkiksi kellottomalla kädellä tapahtuneet näppäinten painallukset tai välilyönnin painaminen sanojen erottamiseksi toisistaan. Todennäköisyyslaskentaan perustuvaa analyysiä käyttävässä tutkimuksessa~\cite{mole} analyysimenetelmän toimivuus varmistettiin asettamalla puhelimen kamera siten, että näppäimistön todellinen käyttö oli tarvittaessa varmistettavissa kamerakuvan avulla.

Sensoridataa analysoitaessa ilmansuuntajakoon perustuvassa tutkimuksessa~\cite{maiti} datasta erotellut näppäilyt jaetaan kahden kirjaimen pareihin, ja kaikki mahdolliset kirjainparit määritellään kuvan ~\ref{fig:nappaimisto} relaationa fyysisen sijainnin sekä liikkeen suunnan, oikea - vasen (L - R) sekä pohjoinen - itä - etelä - länsi (N - W -
S - E), välillä.

\begin{figure} [H]
\centering
\includegraphics[scale=0.4]{nappaimisto}
\caption{Näppäimistön jako vasemman- ja oikeanpuoleisiin kirjaimiin neuroverkkoja käyttäneissä tutkimuksissa~\cite{maiti}}
\label{fig:nappaimisto}
\end{figure}


Kahden merkin pituisiksi kirjainpareiksi jaettuja merkkijonoja yhdistelemällä pyritään löytämään liikeratoja parhaiten vastaava sanakirjasana. Ennen varsinaista kirjainparien määrittämistä näppäimistö jaetaan kuvan ~\ref{fig:nappaimisto} mukaisesti. Luokittelulla oikean ja vasemman välillä pyritään määrittelemään mitkä kirjainyhdistelmät on mahdollista selvittää vasemmassa kädessä pidetyn älykellon avulla. Tällöin sensoridatassa havaittuja liikkeitä voidaan käsitellä sijainnin $loc(Ki)$ ja ilmansuuntaliikkeiden $dir(Ki, Kj)$ avulla siten että näppäimen painalluksen tapahtuessa kellottomalla kädellä $rel(Ki, Kj) = loc(Ki) || X || loc(Kj)$ missä $X$ on joku oikealle puolelle määritelty tuntematon merkki. Tämän jälkeen jokainen kirjain jaetaan joko luokkaan R tai L, ja kaikki kahden merkin parit niiden välisen liikeradan perusteella luokkiin N, W, S tai E.
Neuroverkkojen opetusvaiheessa esimerkkisyötteenä käytettään tutkijan luomaa liikesensoridataa, joka sisältää 1000 englanninkielisen sanan liikeprofiilit. Käytössä on kaksi neuroverkkoa, joista ensimmäinen käyttää luokitteluperusteenaan oikea - vasen jakoa, ja toinen ilmansuuntiin perustuvaa jakoa. 

Oikealla kädellä tehdyt painallukset tunnistetaan älykellon mikrofonin avulla. Kaikki nappien painallukset yhdistetään liikesensoridatan kanssa, jolloin kellottoman käden painallukset on helppo erottaa vasemman käden painalluksista. Jos liikesensoridatassa ei havaita muutosta äänidatasta päätellyn painalluksen kohdalla, tiedetään painalluksen olevan joku näppäimistössä oikean käden puolella olevista kirjaimista. Sanoja erottavan välilyönnin painallus pystytään erottamaan muiden näppäinten painalluksesta myös älykellon heikkotehoisen mikrofonin avulla. Mikrofonin määrittelemän napinpainallusajan ja kiihtyvyyssensoridatan yhdistelmä annetaan syötteenä molemmille neuroverkoille, minkä jälkeen saatuja tuloksia verrataan sanakirjasanojen liikerataprofiileihin. Samanlaisuus pisteytetään, ja datasta erotetun kirjoitetun sanan liikkeiden vastinpariksi saadaan korkeimman pistetuloksen saanut sanakirjasana. 

Tutkimuksessa käytettävien neuroverkkoluokittimien oikeellisuutta tutkittiin foneettisesti tasapainoisten Harvard-lauseiden~\cite{har} avulla, joita käytetään yleisesti englannin kielen testaustapauksissa. Älykellon käyttäjä noudatti näppäillessään ennalta määrättyä oikea - vasen -jakoa, ja näppäimistöllä kirjoitettiin kymmenen lausetta, jotka kaikki löytyivät kokonaisina lauseina liikeprofiilisanakirjasta. Ilman kirjoitusvirheitä oikea - vasen -luokitin jakaa 100\% tarkkuudella kirjoitetut lauseet oikeisiin luokkiin, ilmansuuntiin perustuva luokitin 95\% tarkkuudella. 

Myös toisessa neuroverkkoja käyttävässä tutkimuksessa, jossa näppäimistö on jaettu rivien mukaisesti~\cite{liu}, näppäimistön käytön liikeratoja ja äänidatan tietoja yhdistetään, ja saatuja tuloksia verrataan määriteltyihin liikeratamalleihin. Kuten ilmansuuntajakoon perustuvassa tutkimuksessa~\cite{maiti}, näppäimistö on tässäkin luokiteltu kuvan ~\ref{fig:nappaimisto} mukaisesti. Lisäksi näppäimistön rivit on numeroitu kuten kuvassa~\ref{fig:liuareas}, ja rivinvaihdokset päätellään laitteen $y$-akselin suuntaisen liikkeen perusteella. Liikesensorin alhaisen otantanopeuden aiheuttamien virheiden vähentämiseksi kellon lähettämästä äänidatasta seurataan yksittäisten painallusten tapahtumahetkeä, jolloin liikkeet ovat paremmin suhteutettavissa todellisiin näippäimistön painalluksiin. Saatu data annetaan syötteenä optimointialgoritmille, joka palauttaa mahdollisten sanojen listan todennäköisyysjärjestyksessä. 

\begin{figure}[!b]
\begin{floatrow}
\includegraphics[scale=0.5]{liuareas}
\includegraphics[scale=0.5]{liu_labeling}
\end{floatrow}
\caption{Näppäimistön jako riveittäin sekä luokittelutilakone}
\label{fig:liuareas}
\end{figure}

Kellon lähettämä data tallennetaan keräysvaiheessa laitteelle, josta se myöhemmin analysoidaan. Pääteltäessä käyttäjän näppäilemiä kirjaimia tutkimuksessa käytetään $z$-akselilla tapahtuvaa liikettä määrittelemään, onko äänidatasta havaittu painallus koskenut näppäimistön oikean (R) vai vasemman (L) puolen kirjaimia. Tämän jälkeen kellollisen käden puoleisten kirjainten yhteyksiä päätellään $x$- ja $y$-akselien liikkeiden perusteella. Tutkimuksessa riviltä ylöspäin tapahtunut liike saa arvon +1, alemmalle riville siirtyminen negatiivisen arvon -1 ja määritetyn kynnysarvon alle jäävä $y$-akselin muutos arvon 0. Englanninkielisille sanoille lasketaan liikemallit, jotka rakentuvat -1, 0, +1 ja R -merkeistä kuvan~\ref{fig:liuareas} luokittelutilakoneen avulla. Tilakoneessa merkkien luokat määritetään vertikaalisten liikkeiden perusteella. Tällöin mahdollisia luettuun liikerataan täsmääviä sanoja on useita, riippuen siitä miltä kohdalta näppäimistöä käden liike on alkanut. Ratkaisuna ongelmaan käytetään laskettuja todennäköisyyksiä käsien sijainnista mahdollisissa aloituskohdissa.

Posterioritodennäköisyyksiin perustuvassa tutkimuksessa~\cite{mole} tutkimuksen opetusdatana käytetään kuvitellun hyökkääjän syöttämää erillisten 500 sanan yksittäisten kirjainten painalluksia. Painalluksista muodostetaan käden liikkeiden perusteella merkkien sijaintijoukko (character point cloud, CPC). Tutkimusdatan analysoinnissa oletetaan käyttäjän käsien lähtöasennon olevan keskellä näppäimistöä, kiintopisteinä vasemmalle kädelle merkki 'F' ja oikealle kädelle 'J' joiden kohdalla etusormien edellytetään lähtötilanteessa olevan. Hyökkääjän mallintamat liikkeet kutakin vasemmalla kädellä tapahtuvaa painallusta kohden tallennetaan, ja käyttäjän liikkeitä verrataan opetusdataan Bayesilaisen mallinnuksen ja sanakirjan avulla. Kirjaimet tunnistetaan kuuluviksi niiden sijainnin perusteella todennäköisimpään kuvan ~\ref{fig:bayes} kirjainklusteriin.

\begin{figure}[!h]
\centering
\includegraphics[scale=0.4]{taulukko_bayes}
\caption{Näppäinten painallusten klusterointi}
\label{fig:bayes}
\end{figure}

Poiketen edellisistä hyökkäystavoista laskenta ei vaadi ennalta määriteltyjä liikeratoja sanakirjan sanoille, vaan sanoja käydään läpi kirjaimittain päätellen mahdollinen näppäilty sana suoraan kirjaimista ja niitä vastaavista hyökkääjän mallintamista liikeklustereista. 
Käyttäjältä saatu data käsitellään kolmessa eri vaiheessa. Ensimmäisessä moduulissa selvitetään 2D malli, jossa z-akselin muutoksina havaitut painallukset sijoitetaan koordinaatistoon. Tällöin näppäinten painalluksista saadaan muodostettuja <sijainti, aika> -pareja. Saatu luokittelemattomien sijaintien joukko (unlabeled point cloud, UPC) skaalataan pistejoukkojen yhteensovittamiseen tähtäävässä moduulissa hyökkääjän datasta tuotettuun merkkien sijaintijoukkoon. Uudelleen skaalattu UPC toimii tämän jälkeen pohjana luokittelemattomissa sijainnissa olevien mahdollisten kirjainten selvittämisessä. 
Bayes-mallinnusta käyttävä moduuli saa syötteenä uudelleen skaalatun UPC:n, havaittujen näppäimistön painallusten sijainnit sekä 5000 yleisintä englanninkielistä sanaa sisältävän sanakirjan. Sanakirjan jokaiselle sanalle lasketaan todennäköisyys, jossa sanan kirjaimia ja saatuja painallusten sijainteja verrataan. Tuloksena moduuli palauttaa järjestetyn <sana, todennäköisyys> -listan.

\subsection{Tulokset}

Älykellon liikesensoridatan avulla tehdyissä tutkimuksissa~\cite{maiti} ~\cite{liu}~\cite{mole} näppäilyn käytön päättelyn tulokset vaihtelevat taulukon~\ref{t:2} mukaisesti riippuen analysointimenetelmästä sekä hyökkäyksen kohteen kirjoitustyylistä. Merkittäväksi tekijäksi kaikissa tutkimuksissa nousi kirjoittajan kirjoitustyylin samankaltaisuus hyökkäyksessä käytetyn vertailudatan tuottajan kanssa.
\linebreak

\begin{table} [h]
    \begin{tabular}{ | l | p{55mm} | p{55mm} | }
    \toprule
      ~\cite{maiti} & Käytössä Harvard-lauseet, joista mukaan valittiin 48 kappaletta vähintään neljä merkkiä pitkiä sanoja  & Parhaassa tapauksessa, jossa hyökkäyksen kohteen kirjoitustyyli lähimpänä opetusdataa, palautettiin täysin oikein 78\%  \\
      \midrule
      ~\cite{liu} & 1) Aiemmin toteutettu tutkimus, jossa corncob-sanakirja ja 35 testisanaa  & Testihenkilöistä riippuen 49-61\% sanoista viiden todennäköisimmän sanan listalla, ja huomioitaessa 10 todennäköisintä sanaa tulokset välillä 58-69\%  \\
      \arrayrulecolor{lightgray}
      \midrule
      & 2) Ennalta määritetystä uutisesta satunnaisesti valitut 20 lausetta (765 sanaa), kun vertailusanakirjassa saman toimittajan muita kirjoituksia & Täysin oikein palautettiin 57\%, ja kolmen todennäköisimmän joukossa 88\% \\
      \arrayrulecolor{black}
      \midrule
      ~\cite{mole} & 2400 yksittäistä sanaa, opetusdatana hyökkääjän syöttämät 500 sanan yksittäisten kirjainten painallukset & 30\%  syötetyistä sanoista viiden todennäköisimmän sanan joukossa. Jos kirjoitettaessa käsien aloituskohta oikea, niin sama 30\% sanoista ensimmäinen tarjottu vaihtoehto \\
      \bottomrule
    \end{tabular}
    \caption{Tulokset}\label{t:2}
\end{table}
    
\pagebreak
Erityisen alhaiseksi kirjoitetun sanan löytyminen jää posterioritodennäköisyyteen perustuvassa tutkimuksessa~\cite{mole}, jossa tutkimusasetelmasta poikkeavalla kirjoitustavalla todennäköisyys, että oikea sana on 24 korkeimman arvon joukossa saaneissa on 30\%. Kirjoitettaessa käsien ollessa oletetussa sijainnissa samalla 30\% todennäköisyydellä haettu sana on ensimmäinen löydetty vaihtoehto. Myös neuroverkkoja hyödyntävissä tutkimuksissa~\cite{maiti}~\cite{liu} sanojen tunnistus lyhyiden 3-4 merkkiä pitkien sanojen kohdalla oli heikkoa, sillä niiden liikeprofiilit eivät eronneet merkittävästi toisistaan. Lyhyiden sanojen ollessa usein artikkeleita tai konjunktioita, oletetaan niiden olevan usein pääteltävissä kontekstista, ja arvioissa keskitytään pitkien sanojen tunnistustarkkuuteen. Ilmansuuntajakoa käyttävän tutkimuksen~\cite{maiti} sanatunnistukseen tähtäävässä testissä käytetään kymmentä Harvard-lausetta~\cite{har}, joissa vähintään neljän merkin pituisia sanoja on 48 kappaletta. Tutkittaessa opetusdatan kirjoittaneen käyttäjän tuloksia näistä sanoista vain kolme tunnistettiin väärin onnistumisprosentin ollessa tällöin 93,75\%. Kaikille 25:lle osallistujalle tehdyn kokeen sanojen tunnistusprosentti vaihteli laajasti osallistujien kesken. Korkeimmat tunnistusprosentit (21 oikein 27:stä) saavutettiin niillä testihenkilöillä, joiden kirjoitusnopeus oli lähimpänä neuroverkoille annetun opetusdatan kirjoittajan kirjoitusnopeutta. 

Näppäimistön rivijakoon perustuvassa tutkimuksessa~\cite{liu} ensimmäisen koeasetelman tapauksessa viiden testihenkilön kohdalla toistettiin aiemmassa tutkimuksessa toteutettu koe, jossa näppäimistön käyttöä pyrittiin päättelemään erillisellä mikrofonilla tallennetun äänidatan avulla~\cite{berger}. Käytössä oli corncob-sanakirja~\cite{corn}, ja tarkoituksena palauttaa 35 testisanaa, joiden pituudet vaihtelivat seitsemän ja 13 merkin välillä.
Alkuperäisessä tutkimuksessa~\cite{berger} näppäimistön käyttöä pääteltiin äänidatan avulla. Tutkimuksessa tallennettiin näppäimistön ääntä erillisten sanojen osalta, ja äänidatan perusteella pyrittiin yhdistämään kirjoitettu sana sanakirjasta löytyvään sanaan. Verrattuna aiemman tutkimuksen tuloksiin oikeiden tulosten määrä älykellon sensoridataa, liikemalleja ja vertailualgoritmia käytettäessä oli selkeästi korkeampi. Älykellon datan perusteella etsitty sana oli kymmenen todennäköisimmän sanan joukossa 63\% tapauksista pelkkään äänidataan perustuvan tutkimuksen tulosten jäädessä 43\% tasolle. Älypuhelimen liikesensoridataa käyttäneessä tutkimuksessa~\cite{mar} tulokset olivat taulukon ~\ref{t:3} mukaisesti samaa tasoa pelkkään äänidataan perustuvan alkuperäisen tutkimuksen~\cite{berger} kanssa.

\begin{table} [h]
    \begin{tabular}{ | l | p{25mm} | p{25mm} | p{25mm} | }
    \toprule
      tutkimushenkilöt~\cite{liu} &  top 5 & top 10 & top 25  \\
      \bottomrule
      henkilö 1 & 55\%  & 64\% & 77\%  \\
      \arrayrulecolor{lightgray}
      \midrule
      henkilö 2 & 61\% & 69\% & 82\% \\
      \midrule
      henkilö 3 & 52\% & 60\% & 71\% \\
      \midrule
      henkilö 4 & 49\% & 58\% & 69\% \\
      \midrule
      henkilö 5 & 57\% & 64\% & 76\% \\
      \midrule
      keskiarvo & 55\% & 63\% & 75\% \\
      \arrayrulecolor{black}
      \midrule
      puhelimen liikedata~\cite{berger} & - & 43\% & 61\% \\
      \midrule
      äänidata~\cite{mar} & - & 43\% & 50\% \\
      \bottomrule
    \end{tabular}
    \caption{Näppäimistön rivijakoon perustuvan tutkimuksen [14] tulosten vertailu kahden aiemmin toteutetun puhelimen liikedataan ja äänidataan perustuvan tutkimuksen tuloksiin}\label{t:3}
\end{table}

%\begin{figure} [!bp]
%\centering
%\includegraphics[scale=0.7]{liuTable}
%\caption{Näppäimistön rivijakoa käyttävän tutkimuksen~\cite{liu} osallistujien 4-8 tulokset}
%\label{fig:liuTable}
%\end{figure}

Saman liikeratamalleihin ja näppäimistöriveihin perustuvan tutkimuksen~\cite{liu} toisessa testiasetelmassa, jossa käyttäjä kirjoitti 20 satunnaisesti valittua lausetta BBC:n uutisesta, päästiin myös hyviin tuloksiin. Vaikka sanakirjasanoja on yhteensä 765, onnistuu luokittelu siten että 615 sanan liikemallit olivat uniikkeja. Kokeessa onnistuttiin palauttamaan täysin oikein 57\% kirjoitetuista 463 sanasta. Kun otetaan huomioon kolme todennäköisintä sanaa, on onnistumisprosentti 88.
Vaikka erot eivät ole yhtä suuria kuin todennäköisyyslaskentaa käyttävässä tutkimuksessa~\cite{mole}, myös molemmissa neuroverkkoja käyttäneissä tutkimuksissa kirjoittajan kirjoitusnopeudella ja -tavalla havaittiin olevan vaikutuksia sanatunnistuksen onnistumiseen. Näissä tutkimuksissa tunnistusta ja luokittelun onnistumista saattaa olla mahdollista parantaa käyttämällä opetussyötteenä eri nopeuksilla kirjoittavien henkilöiden dataa. Tutkimuksessa~\cite{maiti}, jossa luokitteluun käytettiin ilmansuuntia, kirjainyhdistelmien jakaminen myös väli-ilmansuuntien mukaan todennäköisesti parantaisi tuloksia.

Tutkimuksessa, jossa liikesensoreiden tuottamaa dataa käsiteltiin todennäköisyyslaskennan avulla~\cite{mole}, tulokset olivat myös oletetulla kirjoitustavalla neuroverkkoja käyttäviä tutkimuksia heikompia. Tässä käyttämällä Bayesilaista mallinnusta tuloksen mediaaniksi saatiin 24. Käyttäjän kirjoittaessa näppäimistöllä on siis 50\% todennäköisyys että oikea sana on luokiteltujen 24 todennäköisimmän vaihtoehdon joukossa, ja 30\% todennäköisyydellä sana löytyy viiden korkeimmaksi luokitellun mahdollisuuden joukosta. Tutkimustavassa ongelmaksi nousi välilyönnin seurannan vaikeus, jolloin kokonaisten lauseiden erotteleminen erillisiksi sanoiksi on haastavaa. Myöskään kellottomalla kädellä tehtäviä painalluksia ei ollut mahdollista rekisteröidä, sillä kellon mikrofonia ei käytetty kuten kahdessa muussa tutkimuksessa. Muiden tutkimusten tapaan äänidatan käyttäminen todennäköisyysmenetelmän tukena todennäköisesti parantaisi tuloksia.

Lähtökohtaisesti kaikkien englanninkielisten sanojen sisältävän sanakirjan käyttäminen liikemalliin täsmäävän sanan löytämiseksi on haastavaa, sillä sanojen määrän kasvaessa myös niiden sanojen määrä joilla on sama liikeprofiili kasvaa. Molemmissa käsitellyissä tutkimuksissa~\cite{maiti}~\cite{liu}, joissa sanan tunnistus perustuu ennalta määritettyihin liikemalleihin, on käytetty tiettyjä sanoja sisältäviä, huomattavasti kokonaista sanakirjaa suppeampia sanaotantoja ja niille muodostettuja liikeratamalleja. Pohdinnassa~\cite{liu} ongelmaan esitettiin kuitenkin mahdollisena ratkaisuna sanaston sitomista kontekstiin, jolloin todennäköisten sanojen määrä vähenee huomattavasti. Älykellojen ominaisuuksiin kuuluu käsiteltyjen liike- ja äänisensorien lisäksi myös esimerkiksi mahdollisuus GPS-seurantaan sekä muita käyttäjää identifioivia ominaisuuksia. Näiden pohjalta mahdollisen hyökkääjän voisi olla mahdollista päätellä missä kontekstissa käyttäjän kirjoittamat sanat esiintyvät, jolloin sanakirjan liikeratamalleja olisi mahdollista supistaa ja näin käytön päättelyn onnistumisprosenttia parantaa. 

Todennäköisyyslaskentaan perustuvassa analysoinnissa~\cite{mole} käytettiin sanan esiintymistodennäköisyytenä huomattavasti laajemman sanakirjan sanoilla samaa todennäköisyyttä. Tutkimuksista, joissa mahdollisten esiintyvien sanojen lukumäärää pienennettiin kontekstisidonnaisuudella~\cite{liu}~\cite{mar} ja näin sanan tunnistamisprosenttia saatiin nostettua, voidaan päätellä, että kontekstin päättely ja sanojen rajaaminen parantaisi tulosta todennäköisesti myös todennäköisyyslaskennan analysointimenetelmällä päättelyä tehtäessä. 

Älykellot käyttävät tiedonsiirtoon Bluetoothia, ja erityisesti kellojen käyttämässä Bluetooth Low Energyssä (BLE) on löydetty tapoja identifioida  käyttäjä laitteen lähettämien pakettien perusteella~\cite{das}. Tutkimuksessa BLE-tekniikka käyttävien aktiivisuusrannekkeiden todettiin säilyttävän BLE-osoitteensa. Tällöin vaikka lähetettävä data on salattua, on helppoa päätellä milloin tietty yksittäinen laite tietoa lähettää, jolloin käyttäjän yksilöinti suuremmasta joukosta on mahdollista. Näin ollen käyttäjän identifiointi ja kirjoitetun tekstin kontekstin rajaaminen saattaa olla mahdollista pelkän älykellon signaalien havainnoinnin perusteella. 

Liikemalleihin perustuvien tutkimusten heikkoutena voitiin nähdä ennalta määriteltyjen liikeratojen ja sanakirjasanojen suuren määrän vaikutus siihen, miten monet sanat vastaavat samoja liikeratamalleja. Samaa ongelmaa ei esiinny Bayesilaiseen mallinnukseen pohjautuvassa näppäimistön käytön päättelyssä, sillä käytössä on jo valmiiksi koko sanakirja ja yksittäisiin kirjainpainalluksiin perustuvat liikkeet. Yksittäisiin painalluksiin pohjautuva menetelmä ei kuitenkaan poista kaikissa älykellon liikesensoridataa tutkineissa tutkimuksissa esiintyvää heikkoutta. Salasanojen ja käyttäjätunnusten voidaan olettaa toisinaan olevan pelkkiä kirjain- ja merkkiyhdistelmiä, jolloin niitä ei voida löytää sanakirjoista tai valmiiksi määritetyistä liikeratamalleista. Listoja suosituimmista vuodetuista salasanoista on kuitenkin saatavilla~\cite{pw}, jolloin salasanalistojen lisääminen käytettyyn sanakirjaan todennäköisesti parantaisi mahdollisuuksia myös salasanan selvittämiseen. 

Kaikissa käsitellyissä liikesensoridataan perustuvissa tutkimuksissa näppäimistön käyttö pystyttiin päättelemään yllättävän korkealla onnistumisprosentilla. Koeasetelmissa yhteiseksi heikkoudeksi nousi kuitenkin päättelyn riippuvuus käyttäjän omasta kirjoitustavasta. Neuroverkkoihin ja ennaltamääriteltyihin sanojen liikemalleihin perustuvassa päättelyssä kirjoittajien oletettiin kirjoittavan määritellyllä standardilla kirjoitustavalla sujuvasti, ja  Bayes-mallinnukseen pohjautuvan tutkimuksen tutkimusasetelmassa käyttäjien oletettiin pitävän käsien niin sanottuna lähtötilanteena juuri tiettyä käsien sijaintia näppäimistöllä. Myös kirjoitusnopeuden vastaavuus hyökkääjän syöttämän opetusdatan kanssa oli merkittävä tekijä.
Opetusdatan jakaminen erilaisiin kirjoitustyyppeihin ja näppäimistöllä kirjoitettujen sanojen vertaus erikseen näihin tyypiteltyihin opetusdatoihin voisi parantaa tuloksia, mutta toisaalta samalla myös monimutkaistaa selvitysprosessia tai pahimmassa tapauksessa vääristää tuloksia. Tulosten tarkkuutta kuitenkin lisäisi jokaisessa kokeessa, jos oletettu oppimis- tai vertausdata olisi mahdollista saada suoraan hyökkäyksen kohteeksi joutuvalta henkilöltä. Esimerkiksi lähetettyjen sähköpostien vuoto puhelimesta voisi olla tilanne, jossa QWERTY-näppäimistön käyttö pystyttäisiin ajallistesti yhdistämään yksittäisiin sähköposteihin, jolloin opetusdatana voisi olla mahdollista käyttää käyttäjän omia liikeratoja. Tällöin yksilölliset kirjoitustapaerot saataisiin vastaamaan määriteltyjä liikeratamalleja tai todennäköisyyksiin perustuvan päättelyn tapauksessa näppäinten painallussijainteja.

Tutkimustulokset sekä yksitellen että erityisesti yhdessä osoittavat vahvasti sen, että näppäimistön käytön päättely älykellojen sensoridatan perusteella on jo nyt mahdollista, ja esimerkiksi yhdistelemällä nyt käytettyjä metodeita ja hankkimalla tarvittava opetusdata suoraan käyttäjältä tuloksista voidaan saada erittäin paikkaansapitäviä.

\section{Yhteenveto}

Tutkimustulosten perusteella QWERTY-näppäimistön käytön päättely on mahdollista älykellon liikesensori- ja äänidatan avulla. Näppäimistön käytön päättely onnistuu sekä neuroverkkojen että todennäköisyysmallinnuksen avulla, ja kellon jatkuva käyttöaika antaa mahdolliselle hyökkääjälle keinon datankeräykseen ilman muita erillisiä datankerääjiä, kuten kameraa tai mikrofonia. Kun sensoridatan analysointiin käytetään hyviä analysointimenetelmiä, vaikuttaa käytön päättely älykellon avulla onnistuvan vähintään samalla tasolla kuin erillisiä kerääjiäkin käytettäessä. Älykellon käyttö hyökkäysvälineenä vähentää kuitenkin ulkoisten häiriöden vaikutuksia sekä datan keräämiseen vaadittavia laitteita. 

Kaikissa älykellon sensoridataa analysoineissa tutkimuksissa lähtöoletuksena oli hyökkääjän pääsy kellon lähettämään liikesensoridataan esimerkiksi puhelimelle asennetun haittaohjelman kautta. Todellisissa hyökkäystapauksissa hyökkääjän tulee ensin saada pääsy älykelloa käyttävän henkilön puhelimeen. Ensisijainen suojautumiskeino älykellon liikesensoridataa käyttäviltä hyökkäyksiltä onkin estää hyökkääjän pääsy dataan, ja asentaa puhelimeen vain sovelluksia, joilla ei ole valtuuksia käyttää älykellon sensoridataa. 
Laitteistotasolla suojatumista voitaisiin helpottaa esimerkiksi älypuhelimen kaltaisilla notifikaatioilla sensoreiden käytöstä, sekä mahdollisuudella estää sensoridatan kerääminen hetkellisesti käyttäjän niin valitessa. Hyökkäysten toimiminen onnistuneesti todellisissa tilanteissa vaatii myös tutkimustapausten perusteella tietoa kirjoitetun tekstin kontekstista sekä hyökkäyksen kohteen kirjoitustottumuksista. Vaikka heikkouksia on olemassa, voidaan ongelmiin olettaa löytyvän ratkaisuja, joilla hyökkäyksistä saadaan todellisissa tilanteissa toimivampia. Kehittyneen hyökkäysohjelman avulla voi esimerkiksi olla mahdollista päästä käsiksi hyökkäyksen kohteen sähköposteihin, jolloin sekä konteksti että yksilöllistä kirjoitustapaa mukaileva opetusdata saattaa olla pääteltävissä.

Ilmansuutajakoon perustuvassa näppäimistön käytön tutkimuksessa~\cite{maiti} tietoturvaratkaisuksi esitetään kontekstitietoista sensorien toimintaa. Tutkimuksessa esitellään rTAD, jonka on mahdollista valvoa milloin älykellon käyttäjä käyttää näppäimistöä, ja estää sensoridatan kerääminen ja lähettäminen näissä tilanteissa. Näppäimistön käytön aiheuttamat muutokset liikesensoridatassa on helppo erottaa esimerkiksi liikunnan aiheuttamista datamuutoksista, sillä näppäilyn aiheuttamat muutokset ovat huomattavasti pienempiä kuin esimerkiksi askeleista johtuvat. Esitetyssä tietoturvaratkaisussa lähetettävä data kulkisi sensorivalvonnan kautta. Ehdotuksen kaltaiset ratkaisut vaativat muutoksia koko laitearkkitehtuuriin, jolloin kustannukset vähentävät varmasti valmistajien halukkuutta toteuttaa tietoturvaparannuksia. Tälläkin hetkellä esimerkiksi Bluetooth-tekniikkaa käyttävillä laitteiden on mahdollista vaihdella BLE-osoitetta, mikä vaikeuttaa yksittäisten laitteiden seurantaa ja yksilöimistä. Aktiivisuusrannekkeiden tietoturvaa tutkittaessa on kuitenkin osoitettu, ettei osoitteiden vaihtelua ole ainakaan tutkituissa laitteissa toteutettu~\cite{das}. Vaikka edellytyksiä parempaan tietoturvaan saattaa olla, ei valmistajien voida olettaa käyttävän parannuksia hyväkseen.

Ihmisten tietoturvan parantamiseen sekä omien tietojen hallinnointiin on viime aikoina kiinnitetty huomiota myös EU-tasolla, ja muun muassa evästeisiin sekä henkilötietorekistereihin on pyritty saamaan EU-alueiden asukkaille kattavat vaikutusmahdollisuudet. Laitevalmistajien sitouttaminen älykellojen käyttäjien tietoturvan varmistamiseen voisikin olla mahdollista esimerkiksi yleisten säädösten sekä lakien avulla.

%Millaisia ratkaisuita voidaan esittää? Miksi toimisivat/eivät toimisi? Voidaanko valmistajia velvoittaa johonkin?

%-Millaista suojausta esim. puhelimissa (kuvakkeet, appien rajoitettu pääsy sensoridataan), kävisikö samat kelloon?

%-Tietoturvaratkaisuina esim. datan suojaus silloin kun havaitaan näppäimistön käyttö (Maiti ym~\cite{maiti}):Esittelee ratkaisuna kontekstitietoisen sensorien toiminnan. Vaatimuksia asettaa kellon laskentateho, tila ja akku. Tähän ehdotuksee kuuluu rTAD, joka valvoo milloin käytetään (päättelee cumulative linear accelerometerin tilasta, eli nolla, mutta ei suuri, turnaroundtimestä,nopeat isot muutokset akseleilla, ennemminkin x-akselin muutokset hyvin pieniä verrattuna muuhun liikkeeseen, askelmittari - jos kävelee, ei kirjoita). rTADin lisäksi data kulkisi motionsensor access controllerin kautta, implementoitaisiin käyttöjärjestelmään - kustannukset isot, vaatisi uutta arkkitehtuuria\linebreak

%Lähtisivätkö valmistajat tosissaan näin vaativaan (vertaa mahdollisuus vaihdella BLE-osoitetta, mutta kukaan ei sitä tee), voitaisiinko jotenkin velvoittaa..? Esim viime vuosina vaatimus evästeiden keräämisen maininnasta netissä, mitä kaikkea pitää ilmoittaa kellojen ohjelmissa?




\pagebreak
% --- References ---
%
% bibtex is used to generate the bibliography. The babplain style
% will generate numeric references (e.g. [1]) appropriate for theoretical
% computer science. If you need alphanumeric references (e.g [Tur90]), use
%
% \bibliographystyle{babalpha-lf}
%
% instead.

\bibliographystyle{babplain-lf}
\bibliography{references-fi}


% --- Appendices ---

% uncomment the following

% \newpage
% \appendix
% 
% \section{Esimerkkiliite}

\end{document}
